{"version":3,"sources":["crawler.js","members.js","App.js","index.js"],"names":["crawler","item","a","url","axios","get","then","res","text","cheerio","load","data","$","split","filter","i","length","Number","members","AppContainer","styled","div","TitleContainer","TeamName","Days","LinkToPage","TableWrapper","ProgressWrapper","useStyles","makeStyles","table","width","header","backgroundColor","headerCell","color","fontFamily","fontWeight","cell","drow","styledProgress","height","App","classes","useState","setData","fetchData","useCallback","tempData","Array","from","sort","b","localeCompare","start","Date","now","diff","Math","floor","useEffect","unit","TableContainer","component","Paper","className","Table","size","aria-label","TableHead","TableRow","TableCell","align","TableBody","map","row","key","scope","href","target","CircularProgress","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.77626bd9.chunk.js","sourcesContent":["import axios from 'axios'\nimport cheerio from 'cheerio'\n\nconst crawler = async (item) => {\n  let url = item[1]\n  await axios.get(url).then(res => {\n    const $ = cheerio.load(res.data)\n    let text = $('.subscription-group').text()\n    text = text.split(' ')\n    text = text.filter(i => i.length > 0 && i[0] !== '\\n')\n    item[2] = Number(text[5])\n  })\n  return item\n}\n\nexport default crawler","const members = [\n  ['td', 'https://ithelp.ithome.com.tw/users/20116003/ironman/2935'],\n  ['Yenting', 'https://ithelp.ithome.com.tw/users/20120822/ironman/3061'],\n  ['Jayne', 'https://ithelp.ithome.com.tw/users/20128754/ironman/2954'],\n  ['SML', 'https://ithelp.ithome.com.tw/users/20129007/ironman/2962'],\n  ['Victor', 'https://ithelp.ithome.com.tw/users/20113462/ironman/2977'],\n  ['Wesley', 'https://ithelp.ithome.com.tw/users/20107303/ironman/2980'],\n  ['Kent', 'https://ithelp.ithome.com.tw/users/20129231/ironman/3028'],\n  ['Ellen', 'https://ithelp.ithome.com.tw/users/20129237/ironman/3030'],\n  ['Bernard', 'https://ithelp.ithome.com.tw/users/20129249/ironman/3034'],\n  ['Emily', 'https://ithelp.ithome.com.tw/users/20128928/ironman/3035'],\n  ['Grant', 'https://ithelp.ithome.com.tw/users/20128925/ironman/3037'],\n  ['Rafeni', 'https://ithelp.ithome.com.tw/users/20129163/ironman/3038'],\n  ['Walter', 'https://ithelp.ithome.com.tw/users/20128931/ironman/3039'],\n  ['Jasper', 'https://ithelp.ithome.com.tw/users/20128902/ironman/3045'],\n  ['gigd123', 'https://ithelp.ithome.com.tw/users/20129269/ironman/3050'],\n  ['Danny', 'https://ithelp.ithome.com.tw/users/20129072/ironman/3052'],\n  ['Water', 'https://ithelp.ithome.com.tw/users/20129286/ironman/3057'],\n  ['lagagain', 'https://ithelp.ithome.com.tw/users/20112470/ironman/3058'],\n  ['Sean', 'https://ithelp.ithome.com.tw/users/20129306/ironman/3071'],\n  ['Kaleb', 'https://ithelp.ithome.com.tw/users/20129427/ironman/3116'],\n  ['Zarek', 'https://ithelp.ithome.com.tw/users/20103425/ironman/3143'],\n  ['shizuku', 'https://ithelp.ithome.com.tw/users/20129636/ironman/3382'],\n  ['Sam', 'https://ithelp.ithome.com.tw/users/20130041/ironman/3413'],\n  ['Dez', 'https://ithelp.ithome.com.tw/users/20107572/ironman/3457'],\n]\n\nexport default members","import React, { useState, useEffect, useCallback } from 'react'\nimport styled from 'styled-components'\nimport crawler from './crawler'\nimport members from './members'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport Paper from '@material-ui/core/Paper'\nimport Moment from 'react-moment'\nimport { CircularProgress } from '@material-ui/core'\n\nconst AppContainer = styled.div`\n    width: 100%;\n    display: flex;\n    position: relative;\n    flex-flow: column;\n    justify-content: center;\n    align-items: center;\n    background-color: #282c34;\n    color: #ffffff;\n`\nconst TitleContainer = styled.div`\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  height: 100px;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: #282c34;\n  padding: 20px;\n`\nconst TeamName = styled.div`\n  font-size: 30px;\n  font-weight: 700;\n`\nconst Days = styled.div`\n  padding: 10px;\n  font-size: 20px;\n  font-weight: 700;\n`\nconst LinkToPage = styled.div`\n  a {\n    color: #000000;\n    text-decoration: none;\n    :hover {\n      color: blue;\n    }\n  }\n`\nconst TableWrapper = styled.div`\n  width: 50%;\n  margin-top: 100px;\n  border: 1px solid #ffffff;\n  border-radius: 4px;\n  margin-bottom: 50px;\n`\nconst ProgressWrapper = styled.div`\n  height: 100%;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n`\nconst useStyles = makeStyles({\n  table: {\n    width: \"100%\",\n  },\n  header: {\n    backgroundColor: \"#333333\"\n  },\n  headerCell: {\n    color: \"#ffffff\",\n    fontFamily: \"Source Code Pro\",\n    fontWeight: \"700\",\n  },\n  cell: {\n    fontFamily: \"Source Code Pro\",\n    fontWeight: \"700\",\n  },\n  drow: {\n    backgroundColor: \"#ffb3b3\",\n  },\n  styledProgress: {\n    color: '#282c34',\n    height: '20px !important',\n    width: '20px !important',\n  },\n})\n\nconst App = () => {\n  const classes = useStyles()\n  const [data, setData] = useState(members)\n  const fetchData = useCallback(async () => {\n    let tempData = Array.from(data)\n    for (let i = 0; i < tempData.length; i++) {\n      if (!tempData[i][2]) {\n        tempData[i] = await crawler(tempData[i])\n        setData(tempData.sort((a ,b) => { \n          if (a[2] === b[2]) {\n            return a[0].localeCompare(b[0])\n          } else {\n           return a[2] - b[2]\n          }  \n        }))\n      }\n    }    \n  })\n\n  // get days\n  let start = new Date('2020-09-13 00:00:00')\n  let now = new Date()\n  let diff = (Math.floor((now - start)/86400000))\n\n  useEffect(() => {\n    fetchData()\n  }, [data])\n\n  return (\n    <AppContainer>\n      <TitleContainer>\n        <TeamName>#OutcomeFirst</TeamName>\n        <Days>\n          開賽第 \n          <Moment diff=\"2020-09-13\" unit=\"days\">\n             {new Date()}\n          </Moment>\n          天\n        </Days>\n      </TitleContainer>\n      { data.length > 0 ? (\n        <TableWrapper>\n          <TableContainer component={Paper} className={classes.table}>\n            <Table size=\"small\" aria-label=\"a dense table\">\n              <TableHead className={classes.header}>\n                <TableRow>\n                  <TableCell className={classes.headerCell}>Name</TableCell>\n                  <TableCell align=\"right\" className={classes.headerCell}>Posts</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {data.map((row) => (\n                  <TableRow key={row[0]} className={(diff === Number(row[2])) ? null : ( row[2] ? classes.drow : null)}>\n                    <TableCell component=\"th\" scope=\"row\" className={classes.cell}>\n                      <LinkToPage><a href={row[1]} target=\"_blank\">{row[0]}</a></LinkToPage>\n                    </TableCell>\n                    <TableCell align=\"right\" className={classes.cell}>{row[2] ? row[2] : (\n                      <ProgressWrapper>\n                        <CircularProgress className={classes.styledProgress}/>\n                      </ProgressWrapper>)}</TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </TableWrapper>\n      ) : ''}\n    </AppContainer>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.scss'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}